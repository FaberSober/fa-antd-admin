# 部署流程

# **部署流程**

> 部署流程是工作流的起始，所有工作流业务的展开都依赖于流程模型的定义。
> 

# **注入流程引擎**

```java
@Resource
private FlowLongEngine flowLongEngine;
```

# **部署流程**

> 支持根据 资源文件 输入流 JSON模型文本 三种方式部署流程。
> 
- 根据`资源文件`部署流程

```java
// 返回 流程定义ID 用于后续发起流程实例
Long processId = flowLongEngine.processService().deployByResource("test/model.json", testCreator, repeat);
```

> 参数说明
> 

| **参数** | **描述** |
| --- | --- |
| resourceName | 资源名称（一般指项目 resource 目录下文件） |
| flowCreator | 流程任务部署者 |
| repeat | 是否重复部署 true 存在版本+1新增一条记录 false 存在流程直接返回 |
- 根据`输入流`部署流程

```java
Long processId = flowLongEngine.processService().deploy(input, testCreator, repeat);
```

> 参数说明
> 

| **参数** | **描述** |
| --- | --- |
| input | 流程定义输入流 java.io.InputStream |
| flowCreator | 流程任务部署者 |
| repeat | 是否重复部署 true 存在版本+1新增一条记录 false 存在流程直接返回 |
- 根据`JSON模型文本`部署流程

```java
Long processId = flowLongEngine.processService().deploy(jsonString, testCreator, repeat);
```

> 参数说明
> 

| **参数** | **描述** |
| --- | --- |
| jsonString | 流程定义json字符串 |
| flowCreator | 流程任务部署者 |
| repeat | 是否重复部署 true 存在版本+1新增一条记录 false 存在流程直接返回 |

# **卸载流程**

> 卸载指定的定义流程，更新为未启用状态
> 

```java
boolean ok = flowLongEngine.processService().undeploy(id);
```

> 参数说明
> 

| **参数** | **描述** |
| --- | --- |
| id | 流程定义ID |

# **其它操作方法**

> 工作流模型的其它操作方法介绍，更多细节查看源码。
> 

| **方法** | **描述** |
| --- | --- |
| updateType | 更新流程定义的类别 |
| getProcessById | 根据主键ID获取流程定义对象 |
| getProcessByVersion | 根据流程名称或版本号查找流程定义对象 |
| getProcessByVersion | 根据流程定义KEY或版本号查找流程定义对象 |
| getProcessByKey | 根据流程定义KEY查找流程定义对象 |
| cascadeRemove | 级联删除指定流程定义的所有数据（谨慎使用！！！不可恢复） |